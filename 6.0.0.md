# Parse Server 6 Migration Guide <!-- omit in toc -->

This document only highlights specific changes that require a longer explanation. For a full list of changes in Parse Server 6 please refer to the [changelog](https://github.com/parse-community/parse-server/blob/alpha/CHANGELOG.md).

---

- [Asynchronous Initialization](#asynchronous-initialization)

---

## Asynchronous Initialization

The import and initialization syntax has been simplified with more intuitive naming and structure.

Previously, it was possible to mount Parse Server before it was fully started up and ready to receive requests. This could result in undefined behavior, such as Parse Objects could be saved before Cloud Code was registered. To prevent this, Parse Server 6 requires to be started asynchronously before being mounted.

`new ParseServer` will always return a Parse Server instance. Previously, depending on where Parse Server was imported from, `new ParseServer` could return an express middleware.

*Parse Server 5:*
```js
// 1. Import Parse Server
const { ParseServer } = require('parse-server');

// 2. Create a Parse Server instance as express middleware
const server = new ParseServer(config);

// 3. Mount express middleware
app.use("/parse", server);
```

*Parse Server 6:*
```js
// 1. Import Parse Server
const ParseServer = require('parse-server');

// 2. Create a Parse Server instance
const server = new ParseServer(config);

// 3. Start up Parse Server asynchronously
await server.start();

// 4. Mount express middleware
app.use("/parse", server.app);
```
