"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _commander = require("commander");
var _path = _interopRequireDefault(require("path"));
var _Deprecator = _interopRequireDefault(require("../../Deprecator/Deprecator"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
/* eslint-disable no-console */

let _definitions;
let _reverseDefinitions;
let _defaults;
_commander.Command.prototype.loadDefinitions = function (definitions) {
  _definitions = definitions;
  Object.keys(definitions).reduce((program, opt) => {
    if (typeof definitions[opt] == 'object') {
      const additionalOptions = definitions[opt];
      if (additionalOptions.required === true) {
        return program.option(`--${opt} <${opt}>`, additionalOptions.help, additionalOptions.action);
      } else {
        return program.option(`--${opt} [${opt}]`, additionalOptions.help, additionalOptions.action);
      }
    }
    return program.option(`--${opt} [${opt}]`);
  }, this);
  _reverseDefinitions = Object.keys(definitions).reduce((object, key) => {
    let value = definitions[key];
    if (typeof value == 'object') {
      value = value.env;
    }
    if (value) {
      object[value] = key;
    }
    return object;
  }, {});
  _defaults = Object.keys(definitions).reduce((defs, opt) => {
    if (_definitions[opt].default !== undefined) {
      defs[opt] = _definitions[opt].default;
    }
    return defs;
  }, {});

  /* istanbul ignore next */
  this.on('--help', function () {
    console.log('  Configure From Environment:');
    console.log('');
    Object.keys(_reverseDefinitions).forEach(key => {
      console.log(`    $ ${key}='${_reverseDefinitions[key]}'`);
    });
    console.log('');
  });
};
function parseEnvironment(env = {}) {
  return Object.keys(_reverseDefinitions).reduce((options, key) => {
    if (env[key]) {
      const originalKey = _reverseDefinitions[key];
      let action = option => option;
      if (typeof _definitions[originalKey] === 'object') {
        action = _definitions[originalKey].action || action;
      }
      options[_reverseDefinitions[key]] = action(env[key]);
    }
    return options;
  }, {});
}
function parseConfigFile(program) {
  let options = {};
  if (program.args.length > 0) {
    let jsonPath = program.args[0];
    jsonPath = _path.default.resolve(jsonPath);
    const jsonConfig = require(jsonPath);
    if (jsonConfig.apps) {
      if (jsonConfig.apps.length > 1) {
        throw 'Multiple apps are not supported';
      }
      options = jsonConfig.apps[0];
    } else {
      options = jsonConfig;
    }
    Object.keys(options).forEach(key => {
      const value = options[key];
      if (!_definitions[key]) {
        throw `error: unknown option ${key}`;
      }
      const action = _definitions[key].action;
      if (action) {
        options[key] = action(value);
      }
    });
    console.log(`Configuration loaded from ${jsonPath}`);
  }
  return options;
}
_commander.Command.prototype.setValuesIfNeeded = function (options) {
  Object.keys(options).forEach(key => {
    if (!Object.prototype.hasOwnProperty.call(this, key)) {
      this[key] = options[key];
    }
  });
};
_commander.Command.prototype._parse = _commander.Command.prototype.parse;
_commander.Command.prototype.parse = function (args, env) {
  this._parse(args);
  // Parse the environment first
  const envOptions = parseEnvironment(env);
  const fromFile = parseConfigFile(this);
  // Load the env if not passed from command line
  this.setValuesIfNeeded(envOptions);
  // Load from file to override
  this.setValuesIfNeeded(fromFile);
  // Scan for deprecated Parse Server options
  _Deprecator.default.scanParseServerOptions(this);
  // Last set the defaults
  this.setValuesIfNeeded(_defaults);
};
_commander.Command.prototype.getOptions = function () {
  return Object.keys(_definitions).reduce((options, key) => {
    if (typeof this[key] !== 'undefined') {
      options[key] = this[key];
    }
    return options;
  }, {});
};
var _default = new _commander.Command().storeOptionsAsProperties();
/* eslint-enable no-console */
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29tbWFuZGVyIiwicmVxdWlyZSIsIl9wYXRoIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9EZXByZWNhdG9yIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmaW5pdGlvbnMiLCJfcmV2ZXJzZURlZmluaXRpb25zIiwiX2RlZmF1bHRzIiwiQ29tbWFuZCIsInByb3RvdHlwZSIsImxvYWREZWZpbml0aW9ucyIsImRlZmluaXRpb25zIiwiT2JqZWN0Iiwia2V5cyIsInJlZHVjZSIsInByb2dyYW0iLCJvcHQiLCJhZGRpdGlvbmFsT3B0aW9ucyIsInJlcXVpcmVkIiwib3B0aW9uIiwiaGVscCIsImFjdGlvbiIsIm9iamVjdCIsImtleSIsInZhbHVlIiwiZW52IiwiZGVmcyIsInVuZGVmaW5lZCIsIm9uIiwiY29uc29sZSIsImxvZyIsImZvckVhY2giLCJwYXJzZUVudmlyb25tZW50Iiwib3B0aW9ucyIsIm9yaWdpbmFsS2V5IiwicGFyc2VDb25maWdGaWxlIiwiYXJncyIsImxlbmd0aCIsImpzb25QYXRoIiwicGF0aCIsInJlc29sdmUiLCJqc29uQ29uZmlnIiwiYXBwcyIsInNldFZhbHVlc0lmTmVlZGVkIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiX3BhcnNlIiwicGFyc2UiLCJlbnZPcHRpb25zIiwiZnJvbUZpbGUiLCJEZXByZWNhdG9yIiwic2NhblBhcnNlU2VydmVyT3B0aW9ucyIsImdldE9wdGlvbnMiLCJfZGVmYXVsdCIsInN0b3JlT3B0aW9uc0FzUHJvcGVydGllcyIsImV4cG9ydHMiXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY2xpL3V0aWxzL2NvbW1hbmRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG5pbXBvcnQgeyBDb21tYW5kIH0gZnJvbSAnY29tbWFuZGVyJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IERlcHJlY2F0b3IgZnJvbSAnLi4vLi4vRGVwcmVjYXRvci9EZXByZWNhdG9yJztcblxubGV0IF9kZWZpbml0aW9ucztcbmxldCBfcmV2ZXJzZURlZmluaXRpb25zO1xubGV0IF9kZWZhdWx0cztcblxuQ29tbWFuZC5wcm90b3R5cGUubG9hZERlZmluaXRpb25zID0gZnVuY3Rpb24gKGRlZmluaXRpb25zKSB7XG4gIF9kZWZpbml0aW9ucyA9IGRlZmluaXRpb25zO1xuXG4gIE9iamVjdC5rZXlzKGRlZmluaXRpb25zKS5yZWR1Y2UoKHByb2dyYW0sIG9wdCkgPT4ge1xuICAgIGlmICh0eXBlb2YgZGVmaW5pdGlvbnNbb3B0XSA9PSAnb2JqZWN0Jykge1xuICAgICAgY29uc3QgYWRkaXRpb25hbE9wdGlvbnMgPSBkZWZpbml0aW9uc1tvcHRdO1xuICAgICAgaWYgKGFkZGl0aW9uYWxPcHRpb25zLnJlcXVpcmVkID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBwcm9ncmFtLm9wdGlvbihcbiAgICAgICAgICBgLS0ke29wdH0gPCR7b3B0fT5gLFxuICAgICAgICAgIGFkZGl0aW9uYWxPcHRpb25zLmhlbHAsXG4gICAgICAgICAgYWRkaXRpb25hbE9wdGlvbnMuYWN0aW9uXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcHJvZ3JhbS5vcHRpb24oXG4gICAgICAgICAgYC0tJHtvcHR9IFske29wdH1dYCxcbiAgICAgICAgICBhZGRpdGlvbmFsT3B0aW9ucy5oZWxwLFxuICAgICAgICAgIGFkZGl0aW9uYWxPcHRpb25zLmFjdGlvblxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJvZ3JhbS5vcHRpb24oYC0tJHtvcHR9IFske29wdH1dYCk7XG4gIH0sIHRoaXMpO1xuXG4gIF9yZXZlcnNlRGVmaW5pdGlvbnMgPSBPYmplY3Qua2V5cyhkZWZpbml0aW9ucykucmVkdWNlKChvYmplY3QsIGtleSkgPT4ge1xuICAgIGxldCB2YWx1ZSA9IGRlZmluaXRpb25zW2tleV07XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jykge1xuICAgICAgdmFsdWUgPSB2YWx1ZS5lbnY7XG4gICAgfVxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgb2JqZWN0W3ZhbHVlXSA9IGtleTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfSwge30pO1xuXG4gIF9kZWZhdWx0cyA9IE9iamVjdC5rZXlzKGRlZmluaXRpb25zKS5yZWR1Y2UoKGRlZnMsIG9wdCkgPT4ge1xuICAgIGlmIChfZGVmaW5pdGlvbnNbb3B0XS5kZWZhdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGRlZnNbb3B0XSA9IF9kZWZpbml0aW9uc1tvcHRdLmRlZmF1bHQ7XG4gICAgfVxuICAgIHJldHVybiBkZWZzO1xuICB9LCB7fSk7XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgdGhpcy5vbignLS1oZWxwJywgZnVuY3Rpb24gKCkge1xuICAgIGNvbnNvbGUubG9nKCcgIENvbmZpZ3VyZSBGcm9tIEVudmlyb25tZW50OicpO1xuICAgIGNvbnNvbGUubG9nKCcnKTtcbiAgICBPYmplY3Qua2V5cyhfcmV2ZXJzZURlZmluaXRpb25zKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhgICAgICQgJHtrZXl9PScke19yZXZlcnNlRGVmaW5pdGlvbnNba2V5XX0nYCk7XG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coJycpO1xuICB9KTtcbn07XG5cbmZ1bmN0aW9uIHBhcnNlRW52aXJvbm1lbnQoZW52ID0ge30pIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKF9yZXZlcnNlRGVmaW5pdGlvbnMpLnJlZHVjZSgob3B0aW9ucywga2V5KSA9PiB7XG4gICAgaWYgKGVudltrZXldKSB7XG4gICAgICBjb25zdCBvcmlnaW5hbEtleSA9IF9yZXZlcnNlRGVmaW5pdGlvbnNba2V5XTtcbiAgICAgIGxldCBhY3Rpb24gPSBvcHRpb24gPT4gb3B0aW9uO1xuICAgICAgaWYgKHR5cGVvZiBfZGVmaW5pdGlvbnNbb3JpZ2luYWxLZXldID09PSAnb2JqZWN0Jykge1xuICAgICAgICBhY3Rpb24gPSBfZGVmaW5pdGlvbnNbb3JpZ2luYWxLZXldLmFjdGlvbiB8fCBhY3Rpb247XG4gICAgICB9XG4gICAgICBvcHRpb25zW19yZXZlcnNlRGVmaW5pdGlvbnNba2V5XV0gPSBhY3Rpb24oZW52W2tleV0pO1xuICAgIH1cbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfSwge30pO1xufVxuXG5mdW5jdGlvbiBwYXJzZUNvbmZpZ0ZpbGUocHJvZ3JhbSkge1xuICBsZXQgb3B0aW9ucyA9IHt9O1xuICBpZiAocHJvZ3JhbS5hcmdzLmxlbmd0aCA+IDApIHtcbiAgICBsZXQganNvblBhdGggPSBwcm9ncmFtLmFyZ3NbMF07XG4gICAganNvblBhdGggPSBwYXRoLnJlc29sdmUoanNvblBhdGgpO1xuICAgIGNvbnN0IGpzb25Db25maWcgPSByZXF1aXJlKGpzb25QYXRoKTtcbiAgICBpZiAoanNvbkNvbmZpZy5hcHBzKSB7XG4gICAgICBpZiAoanNvbkNvbmZpZy5hcHBzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGhyb3cgJ011bHRpcGxlIGFwcHMgYXJlIG5vdCBzdXBwb3J0ZWQnO1xuICAgICAgfVxuICAgICAgb3B0aW9ucyA9IGpzb25Db25maWcuYXBwc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucyA9IGpzb25Db25maWc7XG4gICAgfVxuICAgIE9iamVjdC5rZXlzKG9wdGlvbnMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gb3B0aW9uc1trZXldO1xuICAgICAgaWYgKCFfZGVmaW5pdGlvbnNba2V5XSkge1xuICAgICAgICB0aHJvdyBgZXJyb3I6IHVua25vd24gb3B0aW9uICR7a2V5fWA7XG4gICAgICB9XG4gICAgICBjb25zdCBhY3Rpb24gPSBfZGVmaW5pdGlvbnNba2V5XS5hY3Rpb247XG4gICAgICBpZiAoYWN0aW9uKSB7XG4gICAgICAgIG9wdGlvbnNba2V5XSA9IGFjdGlvbih2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coYENvbmZpZ3VyYXRpb24gbG9hZGVkIGZyb20gJHtqc29uUGF0aH1gKTtcbiAgfVxuICByZXR1cm4gb3B0aW9ucztcbn1cblxuQ29tbWFuZC5wcm90b3R5cGUuc2V0VmFsdWVzSWZOZWVkZWQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcywga2V5KSkge1xuICAgICAgdGhpc1trZXldID0gb3B0aW9uc1trZXldO1xuICAgIH1cbiAgfSk7XG59O1xuXG5Db21tYW5kLnByb3RvdHlwZS5fcGFyc2UgPSBDb21tYW5kLnByb3RvdHlwZS5wYXJzZTtcblxuQ29tbWFuZC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiAoYXJncywgZW52KSB7XG4gIHRoaXMuX3BhcnNlKGFyZ3MpO1xuICAvLyBQYXJzZSB0aGUgZW52aXJvbm1lbnQgZmlyc3RcbiAgY29uc3QgZW52T3B0aW9ucyA9IHBhcnNlRW52aXJvbm1lbnQoZW52KTtcbiAgY29uc3QgZnJvbUZpbGUgPSBwYXJzZUNvbmZpZ0ZpbGUodGhpcyk7XG4gIC8vIExvYWQgdGhlIGVudiBpZiBub3QgcGFzc2VkIGZyb20gY29tbWFuZCBsaW5lXG4gIHRoaXMuc2V0VmFsdWVzSWZOZWVkZWQoZW52T3B0aW9ucyk7XG4gIC8vIExvYWQgZnJvbSBmaWxlIHRvIG92ZXJyaWRlXG4gIHRoaXMuc2V0VmFsdWVzSWZOZWVkZWQoZnJvbUZpbGUpO1xuICAvLyBTY2FuIGZvciBkZXByZWNhdGVkIFBhcnNlIFNlcnZlciBvcHRpb25zXG4gIERlcHJlY2F0b3Iuc2NhblBhcnNlU2VydmVyT3B0aW9ucyh0aGlzKTtcbiAgLy8gTGFzdCBzZXQgdGhlIGRlZmF1bHRzXG4gIHRoaXMuc2V0VmFsdWVzSWZOZWVkZWQoX2RlZmF1bHRzKTtcbn07XG5cbkNvbW1hbmQucHJvdG90eXBlLmdldE9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhfZGVmaW5pdGlvbnMpLnJlZHVjZSgob3B0aW9ucywga2V5KSA9PiB7XG4gICAgaWYgKHR5cGVvZiB0aGlzW2tleV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBvcHRpb25zW2tleV0gPSB0aGlzW2tleV07XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zO1xuICB9LCB7fSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBuZXcgQ29tbWFuZCgpLnN0b3JlT3B0aW9uc0FzUHJvcGVydGllcygpO1xuLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLElBQUFBLFVBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFHLFdBQUEsR0FBQUQsc0JBQUEsQ0FBQUYsT0FBQTtBQUFxRCxTQUFBRSx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUhyRDs7QUFLQSxJQUFJRyxZQUFZO0FBQ2hCLElBQUlDLG1CQUFtQjtBQUN2QixJQUFJQyxTQUFTO0FBRWJDLGtCQUFPLENBQUNDLFNBQVMsQ0FBQ0MsZUFBZSxHQUFHLFVBQVVDLFdBQVcsRUFBRTtFQUN6RE4sWUFBWSxHQUFHTSxXQUFXO0VBRTFCQyxNQUFNLENBQUNDLElBQUksQ0FBQ0YsV0FBVyxDQUFDLENBQUNHLE1BQU0sQ0FBQyxDQUFDQyxPQUFPLEVBQUVDLEdBQUcsS0FBSztJQUNoRCxJQUFJLE9BQU9MLFdBQVcsQ0FBQ0ssR0FBRyxDQUFDLElBQUksUUFBUSxFQUFFO01BQ3ZDLE1BQU1DLGlCQUFpQixHQUFHTixXQUFXLENBQUNLLEdBQUcsQ0FBQztNQUMxQyxJQUFJQyxpQkFBaUIsQ0FBQ0MsUUFBUSxLQUFLLElB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